{"ast":null,"code":"var _jsxFileName = \"/Users/purna/Downloads/MediTro-Health-Care-main/src/Components/AllUser/AllUser.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport auth from \"../../firebaseConfig\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport \"./AllUser.css\";\nimport Loading from \"../Loading/Loading\";\nimport { MdDeleteForever } from \"react-icons/md\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AllUser = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const [user] = useAuthState(auth);\n  const [loading, setLoading] = useState(true); // useEffect(() => {\n  //   fetch(`https://meditro.herokuapp.com/users/${user?.email}`, {\n  //     method: \"GET\",\n  //     headers: {\n  //       authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n  //     },\n  //   })\n  //     .then((res) => res.json())\n  //     .then((data) => {\n  //       setUsers(data);\n  //       setLoading(false);\n  //     });\n  // }, [user]);\n\n  useEffect(() => {\n    laodUsers(user);\n  }, [user]);\n\n  const laodUsers = user => {\n    fetch(`https://meditro-server-production.up.railway.app/users/${user === null || user === void 0 ? void 0 : user.email}`, {\n      method: \"GET\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n      }\n    }).then(res => res.json()).then(data => {\n      setUsers(data);\n      setLoading(false);\n    });\n  };\n\n  const removeUser = email => {\n    const url = `https://meditro.herokuapp.com/user/${email}`;\n    const isConfirm = window.confirm(`This will remove user and each appointment of this current user. Are you sure?`);\n\n    if (isConfirm) {\n      fetch(url, {\n        method: \"DELETE\",\n        headers: {\n          authorization: `Barer ${localStorage.getItem(\"accessToken\")}`\n        }\n      }).then(res => res.json()).then(data => laodUsers(user));\n    }\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"users-body\",\n    children: users.length ? /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" #\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: users.map((user, index) => {\n          const {\n            email,\n            _id,\n            userName,\n            role\n          } = user;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"text-dark text-capitalize\",\n              children: userName === null || userName === void 0 ? void 0 : userName.split(\" \")[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: _id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"text-dark\",\n              children: email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"text-success\",\n              children: role ? role : \"user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"text-danger\",\n              children: role ? \"\" : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeUser(email),\n                title: \"remove\",\n                className: \"remover-btn bg-transparent \",\n                children: /*#__PURE__*/_jsxDEV(MdDeleteForever, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this)]\n          }, _id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-danger text-center h-100 my-5\",\n      children: \"EMPTY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AllUser, \"VEBKL5AcT/64eYtORB7pcWgmM5M=\", false, function () {\n  return [useAuthState];\n});\n\n_c = AllUser;\nexport default AllUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllUser\");","map":{"version":3,"names":["React","useEffect","useState","auth","useAuthState","Loading","MdDeleteForever","AllUser","users","setUsers","user","loading","setLoading","laodUsers","fetch","email","method","headers","authorization","localStorage","getItem","then","res","json","data","removeUser","url","isConfirm","window","confirm","length","map","index","_id","userName","role","split"],"sources":["/Users/purna/Downloads/MediTro-Health-Care-main/src/Components/AllUser/AllUser.js"],"sourcesContent":["import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport auth from \"../../firebaseConfig\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport \"./AllUser.css\";\nimport Loading from \"../Loading/Loading\";\nimport { MdDeleteForever } from \"react-icons/md\";\n\nconst AllUser = () => {\n  const [users, setUsers] = useState([]);\n  const [user] = useAuthState(auth);\n  const [loading, setLoading] = useState(true);\n\n  // useEffect(() => {\n  //   fetch(`https://meditro.herokuapp.com/users/${user?.email}`, {\n  //     method: \"GET\",\n  //     headers: {\n  //       authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n  //     },\n  //   })\n  //     .then((res) => res.json())\n  //     .then((data) => {\n  //       setUsers(data);\n  //       setLoading(false);\n  //     });\n  // }, [user]);\n  useEffect(() => {\n    laodUsers(user);\n  }, [user]);\n\n  const laodUsers = (user) => {\n    fetch(`https://meditro-server-production.up.railway.app/users/${user?.email}`, {\n      method: \"GET\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setUsers(data);\n        setLoading(false);\n      });\n  };\n\n  const removeUser = (email) => {\n    const url = `https://meditro.herokuapp.com/user/${email}`;\n    const isConfirm = window.confirm(\n      `This will remove user and each appointment of this current user. Are you sure?`\n    );\n    if (isConfirm) {\n      fetch(url, {\n        method: \"DELETE\",\n        headers: {\n          authorization: `Barer ${localStorage.getItem(\"accessToken\")}`,\n        },\n      })\n        .then((res) => res.json())\n        .then((data) => laodUsers(user));\n    }\n  };\n  if (loading) {\n    return <Loading />;\n  }\n  return (\n    <div className=\"users-body\">\n      {users.length ? (\n        <table>\n          <thead className=\"shadow-sm\">\n            <th> #</th>\n            <th> name</th>\n            <th> id</th>\n            <th> email</th>\n            <th> role</th>\n            <th>Actions</th>\n          </thead>\n          <tbody>\n            {users.map((user, index) => {\n              const { email, _id, userName, role } = user;\n              return (\n                <tr key={_id}>\n                  <td>{index + 1}</td>\n                  <td className=\"text-dark text-capitalize\">\n                    {userName?.split(\" \")[0]}\n                  </td>\n                  <td>\n                    <span>{_id}</span>\n                  </td>\n                  <td className=\"text-dark\">{email}</td>\n                  <td className=\"text-success\">{role ? role : \"user\"}</td>\n                  <td className=\"text-danger\">\n                    {role ? (\n                      \"\"\n                    ) : (\n                      <button\n                        onClick={() => removeUser(email)}\n                        title=\"remove\"\n                        className=\"remover-btn bg-transparent \"\n                      >\n                        <MdDeleteForever />\n                      </button>\n                    )}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      ) : (\n        <h1 className=\"text-danger text-center h-100 my-5\">EMPTY</h1>\n      )}\n    </div>\n  );\n};\n\nexport default AllUser;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}